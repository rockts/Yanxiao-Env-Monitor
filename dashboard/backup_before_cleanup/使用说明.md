# 智慧校园环境监测系统 - 使用说明

## 系统概述

这是烟铺小学智慧校园环境监测系统的仪表盘界面，用于显示各种环境监测数据，包括：

- 环境温度
- 环境湿度
- 空气质量指数(AQI)
- 有机挥发物(TVOC)
- 二氧化碳当量(eCO2)
- 紫外线指数
- 噪音分贝

## 文件说明

- `智慧校园监测系统.py` - 统一启动器，图形界面(推荐使用)
- `智慧校园监测系统.command` - 统一启动器，macOS 版(推荐使用)
- `真完整版启动.py` - 完整版仪表盘启动脚本(Python 版)
- `真完整版启动.command` - 完整版仪表盘启动脚本(macOS 版)
- `仪表盘诊断.py` - 系统诊断工具(Python 版)
- `仪表盘诊断.command` - 系统诊断工具(macOS 版)
- `超级简单版仪表盘.py` - 简化版仪表盘(功能有限)
- `完整版仪表盘.py` - 旧版完整仪表盘(原先版本)
- `src/main.py` - 核心仪表盘程序

## 启动方法

### 推荐启动方法

#### macOS 用户

1. 双击 `智慧校园监测系统.command` 文件启动统一启动向导
2. 在图形界面中选择要启动的版本

#### Windows/Linux 用户

1. 运行 `python3 智慧校园监测系统.py` 启动图形界面启动器
2. 在界面中选择要启动的版本

### 直接启动特定版本

#### macOS 用户

1. 双击 `真完整版启动.command` 文件启动完整版仪表盘
2. 如果启动失败，双击 `仪表盘诊断.command` 文件进行系统诊断

#### Windows/Linux 用户

1. 打开终端或命令提示符
2. 进入项目目录
3. 运行 `python3 真完整版启动.py`
4. 如果启动失败，运行 `python3 仪表盘诊断.py` 进行系统诊断

## 常见问题排查

1. **窗口无法打开**

   - 使用 `仪表盘诊断.command` 或 `仪表盘诊断.py` 检查系统配置
   - 确保已安装所有必须的 Python 库

2. **传感器数据不显示**

   - 确认 MQTT 服务器是否正常运行
   - 检查模拟器是否启动
   - 检查配置文件中的 MQTT 服务器地址是否正确

3. **图表不显示**

   - 确保已安装 matplotlib 库
   - 检查 Python 版本(建议使用 Python 3.7 或更高版本)

4. **窗口界面布局异常**
   - 确保已安装 tkinter 库
   - 尝试调整窗口大小
   - 检查显示器分辨率设置

## 系统要求

- Python 3.7 或更高版本
- 必须安装的库：
  - tkinter (GUI 界面)
  - paho-mqtt (MQTT 通信)
  - matplotlib (图表绘制)
  - Pillow (图像处理)

## 安装依赖

如果确定缺少某些库，可以使用以下命令安装：

```bash
pip install paho-mqtt matplotlib pillow
```

## 目录结构

```
dashboard/
├── 智慧校园监测系统.py         # 统一启动器(图形界面)
├── 智慧校园监测系统.command    # 统一启动器(macOS版)
├── 真完整版启动.py             # 完整版启动脚本
├── 真完整版启动.command        # macOS启动脚本
├── 仪表盘诊断.py               # 诊断工具
├── 仪表盘诊断.command          # macOS诊断工具
├── 使用说明.md                 # 本文档
├── config/                     # 配置文件目录
├── logs/                       # 日志文件目录
└── src/                        # 源代码目录
    ├── main.py                 # 主程序(完整版仪表盘)
    ├── simple_mqtt_broker.py   # MQTT服务器
    ├── simulators/             # 模拟器目录
    │   └── sensor_data_simulator.py   # 传感器数据模拟器
    └── ui/                     # UI组件目录
```

## 开发者文档

如需了解更多关于系统的技术细节或参与开发，请参考源代码中的注释和文档字符串。主要文件：

1. `src/main.py` - 包含仪表盘的核心实现
2. `src/simple_mqtt_broker.py` - MQTT 代理服务器实现
3. `src/simulators/sensor_data_simulator.py` - 传感器数据模拟器
