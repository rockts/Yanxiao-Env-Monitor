# 智慧校园仪表盘系统 v1.2.1 发布说明

日期: 2025-05-19

## 主要更新

1. **项目结构重组**

   - 实现了更清晰的目录结构，按功能分离文件
   - 创建了专用的配置、日志、源代码和文档目录
   - 简化了启动脚本，提高了易用性

2. **视频显示优化**

   - 增加了视频显示区域尺寸（450x340px）
   - 改进了视频帧处理逻辑，提高显示稳定性
   - 添加了最小容器尺寸限制，确保在窗口调整时不会过小

3. **界面布局改进**

   - 调整了面板比例为 3:3:7（左:中:右），更合理利用屏幕空间
   - 改进了左侧数据区域对齐方式，数值右对齐
   - 统一了边距和间距，提高整体美观度

4. **错误处理增强**

   - 改进了 MQTT 连接错误处理
   - 增加了配置文件读取的错误处理
   - 改进了多进程管理和清理机制

5. **配置系统优化**
   - 实现了集中式配置管理
   - 添加了良好的默认配置参数
   - 提供了详细的配置文件文档

## 新增特性

1. **发送视频测试数据脚本**

   - 新的`send_video_test.py`脚本，用于测试视频传输功能
   - 可配置帧率和分辨率

2. **强化的测试环境**

   - 改进的测试启动脚本，支持一键运行完整测试环境
   - 进程管理更稳定，能够正确清理资源

3. **日志系统升级**
   - 统一日志文件命名和管理
   - 增加了更多有用的日志信息

## 下载与安装

从项目仓库获取最新版本:

```
git clone https://github.com/rockts/smart_campus_dashboard.git
```

## 使用方法

### 基本启动

```
./start.command
```

### 测试环境启动

```
./start_test.command
```

## 已知问题

- 在某些情况下，连接到远程 MQTT 服务器可能需要多次尝试
- 视频流在帧率过高时可能会导致界面轻微卡顿
